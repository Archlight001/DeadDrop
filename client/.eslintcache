[{"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/index.js":"1","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/reportWebVitals.js":"2","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/components/Chat.jsx":"3","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/containers/App.js":"4","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/containers/Main.jsx":"5","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/components/Homepage.jsx":"6","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/contexts/MainProvider.js":"7","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/contexts/SocketProvider.js":"8","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/utils/connect.js":"9","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/components/Participants.jsx":"10"},{"size":511,"mtime":1608635177669,"results":"11","hashOfConfig":"12"},{"size":362,"mtime":1607424344059,"results":"13","hashOfConfig":"12"},{"size":2460,"mtime":1609337666729,"results":"14","hashOfConfig":"12"},{"size":377,"mtime":1608800592993,"results":"15","hashOfConfig":"12"},{"size":474,"mtime":1608800662121,"results":"16","hashOfConfig":"12"},{"size":1582,"mtime":1609236736170,"results":"17","hashOfConfig":"12"},{"size":2598,"mtime":1609236778710,"results":"18","hashOfConfig":"12"},{"size":953,"mtime":1609238592630,"results":"19","hashOfConfig":"12"},{"size":337,"mtime":1609164212375,"results":"20","hashOfConfig":"12"},{"size":2049,"mtime":1609338656125,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"i6of0c",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"24"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/index.js",[],["45","46"],"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/reportWebVitals.js",[],"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/components/Chat.jsx",["47","48","49"],"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/containers/App.js",[],"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/containers/Main.jsx",[],"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/components/Homepage.jsx",["50"],"import React, { useRef, useState } from \"react\";\nimport Rodal from \"rodal\";\nimport { useMain } from \"../contexts/MainProvider\";\n\nimport \"rodal/lib/rodal.css\";\n\nexport default function Homepage() {\n  const [modalStatus, showModal] = useState(false);\n  const [email, setEmail] = useState(\"\");\n\n  const { createSession,joinSession } = useMain();\n\n  function sendEmail(e){\n    e.preventDefault()\n    createSession(email)\n    showModal(false)\n  }\n  return (\n    <div>\n      <Rodal\n        visible={modalStatus}\n        onClose={() => {\n          showModal(false);\n        }}\n        width={400}\n        height={200}\n        showCloseButton={true}\n      >\n        <form onSubmit={sendEmail}>\n          <div className=\"codename__modal\">\n            <input\n              type=\"email\"\n              placeholder=\"Enter your Email\"\n              onChange={(e) => {\n                setEmail(e.target.value);\n              }}\n              value={email}\n              required\n            />\n            <button className=\"create__session__button\" type=\"submit\">\n              Create Session\n            </button>\n          </div>\n        </form>\n      </Rodal>\n      <button onClick={() => showModal(true)}>Create Session</button>\n      {/* <button onClick={createSession.bind(this, \"christoherenok@gmail.com\")}>\n        Create Session\n      </button> */}\n      <button\n        onClick={joinSession.bind(\n          this,\n          \"2c72d020-4ba3-44c3-aaac-f0c004216618\",\n          \"2152dr4b-4b86-4c58-922b-14ff4a2c1eb3\"\n        )}\n      >\n        Join Session\n      </button>\n    </div>\n  );\n}\n","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/contexts/MainProvider.js",["51"],"import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useContext } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useHistory } from \"react-router-dom\";\nimport { apiCall } from \"../utils/connect\";\n\nconst MainContext = React.createContext();\n\nexport function useMain() {\n  return useContext(MainContext);\n}\n\nexport function MainProvider({ children }) {\n  let history = useHistory();\n\n  const [data, setData] = useState(JSON.parse(localStorage.getItem(\"Data\")));\n\n  async function createSession(Email) {\n    const Result = await apiCall(\"post\", \"/api/validate\", { Email });\n    console.log(Result);\n\n    if (Result.exists) {\n      alert(\"A Session has already been created with this mail\");\n    } else {\n      const SessionId = uuidv4();\n      const UserId = uuidv4();\n\n      var date = new Date();\n\n      var Data = JSON.parse(localStorage.getItem(\"Data\"));\n      if (localStorage.getItem(\"Data\") !== null) {\n        if (date.getTime() > Data.date) {\n          localStorage.removeItem(\"Data\");\n          date.setTime(date.getTime() + 1 * 24 * 60 * 60 * 1000);\n          localStorage.setItem(\n            \"Data\",\n            JSON.stringify({ SessionId, UserId, Email, date: date.getTime() })\n          );\n        }\n      } else {\n        date.setTime(date.getTime() + 1 * 24 * 60 * 60 * 1000);\n        localStorage.setItem(\n          \"Data\",\n          JSON.stringify({ SessionId, UserId, Email, date: date.getTime() })\n        );\n      }\n\n      setData(JSON.parse(localStorage.getItem(\"Data\")));\n    }\n\n    // document.cookie = `sessionId=${SessionId};expires=${date.toUTCString()}`\n    // document.cookie = `userId=${UserId};expires=${date.toUTCString()}`\n  }\n\n  async function joinSession(SessionId, UserId) {\n    const Result = await apiCall(\"post\", \"/api/validate\", { SessionId });\n\n    if (!Result.exists && localStorage.getItem(\"Data\") !== null) {\n      localStorage.removeItem(\"Data\");\n      setData(null);\n    } else if (Result.exists) {\n      localStorage.setItem(\n        \"Data\",\n        JSON.stringify({ SessionId, UserId, date: Result.Date })\n      );\n      setData(JSON.parse(localStorage.getItem(\"Data\")));\n    }\n  }\n\n  useEffect(() => {\n    console.log(data);\n    if (data !== null) {\n      var date = new Date();\n\n      if (date.getTime() > data.date) {\n        localStorage.removeItem(\"Data\");\n        history.push(\"/\");\n      } else {\n        history.push(\"/chat\");\n      }\n    }\n  }, [data]);\n\n  return (\n    <MainContext.Provider value={{ createSession, joinSession, data, setData }}>\n      {children}\n    </MainContext.Provider>\n  );\n}\n","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/contexts/SocketProvider.js",[],"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/utils/connect.js",[],"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/components/Participants.jsx",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":1,"column":17,"nodeType":"58","messageId":"59","endLine":1,"endColumn":28},{"ruleId":"56","severity":1,"message":"60","line":1,"column":41,"nodeType":"58","messageId":"59","endLine":1,"endColumn":48},{"ruleId":"61","severity":1,"message":"62","line":26,"column":6,"nodeType":"63","endLine":26,"endColumn":8,"suggestions":"64"},{"ruleId":"56","severity":1,"message":"65","line":1,"column":17,"nodeType":"58","messageId":"59","endLine":1,"endColumn":23},{"ruleId":"61","severity":1,"message":"66","line":83,"column":6,"nodeType":"63","endLine":83,"endColumn":12,"suggestions":"67"},"no-native-reassign",["68"],"no-negated-in-lhs",["69"],"no-unused-vars","'useCallback' is defined but never used.","Identifier","unusedVar","'useMemo' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'data.SessionId'. Either include it or remove the dependency array.","ArrayExpression",["70"],"'useRef' is defined but never used.","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["71"],"no-global-assign","no-unsafe-negation",{"desc":"72","fix":"73"},{"desc":"74","fix":"75"},"Update the dependencies array to be: [data.SessionId]",{"range":"76","text":"77"},"Update the dependencies array to be: [data, history]",{"range":"78","text":"79"},[809,811],"[data.SessionId]",[2444,2450],"[data, history]"]