[{"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/index.js":"1","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/reportWebVitals.js":"2","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/components/Chat.jsx":"3","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/containers/App.js":"4","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/containers/Main.jsx":"5","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/components/Homepage.jsx":"6","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/contexts/MainProvider.js":"7","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/contexts/SocketProvider.js":"8","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/utils/connect.js":"9"},{"size":511,"mtime":1608635177669,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":1607424344059,"results":"12","hashOfConfig":"11"},{"size":1962,"mtime":1608801077745,"results":"13","hashOfConfig":"11"},{"size":377,"mtime":1608800592993,"results":"14","hashOfConfig":"11"},{"size":474,"mtime":1608800662121,"results":"15","hashOfConfig":"11"},{"size":1295,"mtime":1609167657800,"results":"16","hashOfConfig":"11"},{"size":2109,"mtime":1609168518254,"results":"17","hashOfConfig":"11"},{"size":880,"mtime":1609169683158,"results":"18","hashOfConfig":"11"},{"size":337,"mtime":1609164212375,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"i6of0c",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"22"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/index.js",[],["42","43"],"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/reportWebVitals.js",[],"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/components/Chat.jsx",["44","45","46"],"import React, { useEffect, useState } from \"react\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport \"../css/Chat.css\";\nimport { useHistory } from \"react-router-dom\";\nimport {useMain} from \"../contexts/MainProvider\";\n\n// const socket = io(\"http://localhost:5000\",{forceNew:false});\n// socket.emit(\"enter-chat\", \"James\");\n\nfunction Chat() {\n  let history = useHistory()  \n  let {data,setData} = useMain();\n\n  // const [messages, addMessage] = useState([]);\n  // const [name,setName] = useState(\"Jes\")\n\n  // useEffect(() => {\n  //   console.log()\n  //   socket.on(\"new-participant\", participant =>{\n  //     console.log(\"Rendering\");\n  //     addMessage(<h4>{participant} has joined the chat</h4>)\n  //   });\n\n  // },[]);\n\n  function endSession(){\n    localStorage.removeItem(\"Data\");\n    setData(null)\n    history.push(\"/\");\n  } \n\n \n\n  return (\n    <div className=\"main__chat__container\">\n      <div className=\"chat__session__buttons\">\n        <button>Participants</button>\n        <button onClick={endSession}>End Session</button>\n      </div>\n\n      <div className=\"chat__section\">\n        <div className=\"message__field\">\n          {/* <h4>Wolf has joined the chat</h4> */}\n\n\n          {/* <div className=\"message__content__L\">\n            <p className=\"content__title\">Wolf</p>\n            <p className=\"content__message\">\n              Hi, I hope you've got the package for me\n            </p>\n          </div> */}\n\n          {/* <div className=\"side__right\">\n            <div className=\"message__content__R\">\n              <div>\n                <p className=\"content__title\">Lion</p>\n              </div>\n              <p className=\"content__message\">Right here, come get it</p>\n            </div>\n          </div> */}\n        </div>\n        <div className=\"input__container\">\n          <div>\n            <input type=\"text\" name=\"\" id=\"\" />\n            <SendIcon />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Chat;\n","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/containers/App.js",[],"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/containers/Main.jsx",[],"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/components/Homepage.jsx",["47"],"import React, { useRef, useState } from \"react\";\nimport Rodal from \"rodal\";\nimport { useMain } from \"../contexts/MainProvider\";\n\nimport \"rodal/lib/rodal.css\";\n\nexport default function Homepage() {\n  const [modalStatus, showModal] = useState(false);\n  const [email, setEmail] = useState(\"\");\n\n  const { createSession } = useMain();\n\n  return (\n    <div>\n      <Rodal\n        visible={modalStatus}\n        onClose={() => {\n          showModal(false);\n        }}\n        width={400}\n        height={200}\n        showCloseButton={true}\n      >\n        <form onSubmit={createSession.bind(this, email)}>\n          <div className=\"codename__modal\">\n            <input\n              type=\"email\"\n              placeholder=\"Enter your Email\"\n              onChange={(e) => {\n                setEmail(e.target.value);\n              }}\n              value={email}\n              required\n            />\n            <button className=\"create__session__button\" type=\"submit\">\n              Create Session\n            </button>\n          </div>\n        </form>\n      </Rodal>\n      {/* <button onClick={() => showModal(true)}>Create Session</button> */}\n      <button onClick={createSession.bind(this, \"christopherenok@gmail.com\")}>Create Session</button>\n      <button>Join Session</button>\n    </div>\n  );\n}\n","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/contexts/MainProvider.js",["48"],"import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useContext } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useHistory } from \"react-router-dom\";\nimport { apiCall } from \"../utils/connect\";\n\nconst MainContext = React.createContext();\n\nexport function useMain() {\n  return useContext(MainContext);\n}\n\nexport function MainProvider({ children }) {\n  let history = useHistory();\n\n  const [data, setData] = useState(JSON.parse(localStorage.getItem(\"Data\")));\n\n  async function createSession(Email) {\n    const Result = await apiCall(\"post\", \"/api/validatemail\", { Email });\n\n    if (Result.exists) {\n      alert(\"A Session has already been created with this mail\");\n    } else {\n\n      const SessionId = uuidv4();\n      const UserId = uuidv4();\n\n      var date = new Date();\n\n      var Data = JSON.parse(localStorage.getItem(\"Data\"));\n      if (localStorage.getItem(\"Data\") !== null) {\n        if (date.getTime() > Data.date) {\n          localStorage.removeItem(\"Data\");\n          date.setTime(date.getTime() + 1 * 24 * 60 * 60 * 1000);\n          localStorage.setItem(\n            \"Data\",\n            JSON.stringify({ SessionId, UserId, Email, date: date.getTime() })\n          );\n        }\n      } else {\n        date.setTime(date.getTime() + 1 * 24 * 60 * 60 * 1000);\n        localStorage.setItem(\n          \"Data\",\n          JSON.stringify({ SessionId, UserId, Email, date: date.getTime() })\n        );\n      }\n\n      setData(JSON.parse(localStorage.getItem(\"Data\")));\n    }\n\n    // document.cookie = `sessionId=${SessionId};expires=${date.toUTCString()}`\n    // document.cookie = `userId=${UserId};expires=${date.toUTCString()}`\n  }\n\n  useEffect(()=>{\n    console.log(data);\n    if (data !== null) {\n        var date = new Date();\n\n        if (date.getTime() > data.date ) {\n            localStorage.removeItem(\"Data\");\n            history.push(\"/\")\n        }else{\n            history.push(\"/chat\")\n        }\n\n    }\n  },[data])\n\n  return (\n    <MainContext.Provider value={{ createSession, data, setData }}>\n      {children}\n    </MainContext.Provider>\n  );\n}\n","/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/contexts/SocketProvider.js",[],"/home/chris/Development/Projects/Ongoing/DeadDrop/client/src/utils/connect.js",[],{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","severity":1,"message":"54","line":1,"column":17,"nodeType":"55","messageId":"56","endLine":1,"endColumn":26},{"ruleId":"53","severity":1,"message":"57","line":1,"column":28,"nodeType":"55","messageId":"56","endLine":1,"endColumn":36},{"ruleId":"53","severity":1,"message":"58","line":12,"column":8,"nodeType":"55","messageId":"56","endLine":12,"endColumn":12},{"ruleId":"53","severity":1,"message":"59","line":1,"column":17,"nodeType":"55","messageId":"56","endLine":1,"endColumn":23},{"ruleId":"60","severity":1,"message":"61","line":69,"column":5,"nodeType":"62","endLine":69,"endColumn":11,"suggestions":"63"},"no-native-reassign",["64"],"no-negated-in-lhs",["65"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'data' is assigned a value but never used.","'useRef' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["66"],"no-global-assign","no-unsafe-negation",{"desc":"67","fix":"68"},"Update the dependencies array to be: [data, history]",{"range":"69","text":"70"},[1969,1975],"[data, history]"]